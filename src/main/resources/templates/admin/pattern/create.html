<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <title>근태패턴 추가</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-8">

<div class="max-w-4xl mx-auto bg-white p-6 border border-gray-300 rounded-md shadow">
  <h2 class="text-2xl font-bold mb-6">근태패턴 추가</h2>

  <!-- 에러 메시지 출력 -->
  <div th:if="${errorMsg}" class="bg-red-100 text-red-700 p-4 rounded mb-6">
    <strong>오류: </strong> <span th:text="${errorMsg}"></span>
  </div>

  <form action="/admin/pattern/create" method="post" class="space-y-6">
    <!-- 근태패턴 코드와 이름 -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label for="workPatternCode" class="block text-sm font-medium text-gray-700">근태패턴 코드</label>
        <input type="text" id="workPatternCode" name="workPatternCode"
               class="mt-1 block w-full rounded border border-gray-300 p-2" required>
      </div>
      <div>
        <label for="workPatternName" class="block text-sm font-medium text-gray-700">근태패턴 명</label>
        <input type="text" id="workPatternName" name="workPatternName"
               class="mt-1 block w-full rounded border border-gray-300 p-2" required>
      </div>
    </div>

    <!-- 요일별 근태코드 선택 -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <div>
        <label for="day1" class="block text-sm font-medium text-gray-700">월요일</label>
        <select id="day1" name="dayOfWeekMap[1]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}"></option>
        </select>
      </div>
      <div>
        <label for="day2" class="block text-sm font-medium text-gray-700">화요일</label>
        <select id="day2" name="dayOfWeekMap[2]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}"></option>
        </select>
      </div>
      <div>
        <label for="day3" class="block text-sm font-medium text-gray-700">수요일</label>
        <select id="day3" name="dayOfWeekMap[3]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}"></option>
        </select>
      </div>
      <div>
        <label for="day4" class="block text-sm font-medium text-gray-700">목요일</label>
        <select id="day4" name="dayOfWeekMap[4]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}"></option>
        </select>
      </div>
      <div>
        <label for="day5" class="block text-sm font-medium text-gray-700">금요일</label>
        <select id="day5" name="dayOfWeekMap[5]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}"></option>
        </select>
      </div>
      <div>
        <label for="day6" class="block text-sm font-medium text-gray-700">토요일</label>
        <select id="day6" name="dayOfWeekMap[6]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}" th:selected="${shift.shiftCode == '13'}"></option>
        </select>
      </div>
      <div>
        <label for="day7" class="block text-sm font-medium text-gray-700">일요일</label>
        <select id="day7" name="dayOfWeekMap[7]" required class="mt-1 block w-full rounded border border-gray-300 p-2">
          <option value="">선택</option>
          <option th:each="shift : ${shiftCodes}" th:value="${shift.shiftCode}" th:text="${shift.shiftName}" th:selected="${shift.shiftCode == '12'}"></option>
        </select>
      </div>
    </div>

    <!-- 저장 및 취소 버튼 -->
    <div class="pt-4 flex justify-end space-x-2">
      <button type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        저장
      </button>
      <a href="/admin/pattern/list"
         class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 shadow">
        취소
      </a>
    </div>
  </form>
</div>
</body>
</html>